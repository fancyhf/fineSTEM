# 变更确认
- 文档统一归档至 `.trae/documents/`，移除顶层 `docs/`；后续所有规范、流程、数据字典、审计与发布相关文档均在 `.trae/documents/` 维护。
- 保持技术方案中立：不绑定语言、框架或数据库；以 MCP 与 Agent 协作为主导的开发/运营流程。

## 顶层目录结构（更新后）
```text
fineSTEM/
├─ apps/                         # 独立应用
│  └─ public-web/                # 对外公众网站（MVP 核心）
│     └─ src/
│        └─ features/
│           └─ mvp/
│              └─ phase1/        # 第一阶段 MVP 代码
│                 ├─ backend/    # FastAPI 后端服务
│                 │  ├─ routers/ # 业务路由
│                 │  ├─ models/  # 数据模型
│                 │  └─ data/    # 本地数据存储
│                 └─ web/        # React 前端应用
│                    ├─ components/
│                    ├─ hooks/
│                    └─ pages/
├─ .trae/                        # 规则、文档与配置
│  ├─ documents/                 # 项目文档统一归档
│  │  ├─ api-specs/              # API 规范
│  │  ├─ pbl/                    # PBL 设计文档
│  │  ├─ starter_kits/           # 启动套件文档
│  │  ├─ testing/                # 测试报告
│  │  ├─ 产品与规划/             # PRD 与路线图
│  │  ├─ 技术与架构/             # 架构设计与部署计划
│  │  └─ 术语与字典/             # 领域模型与术语
│  └─ rules/                     # 自动化规则 (project_rules.md)
├─ deploy/                       # 部署相关脚本与指南
├─ deploysettings/               # 部署配置文件
├─ server/                       # 服务器运维脚本 (nginx 等)
├─ maintain/                     # 维护文档 (git tag 等)
├─ references/                   # 原始需求与参考资料
└─ ...
```

## 文档管理规范（统一在 `.trae/documents/`）
- 分类与位置：所有项目文档按领域分层存放于 `.trae/documents/`；各子目录含 `README`（目的、范围、维护者、变更记录）。
- 命名与版本：文件名采用清晰中文或英文；可选后缀标注版本与日期，如 `content-strategy.v1.md`。
- 元信息头：统一 `version/created_at/maintainer/change_log/status`，状态流转为 `draft → review → approved → archived`。
- 变更管理：任何规范/流程变更需登记到 `adr/` 并更新对应检查清单与影响分析；审计证据归档到 `audit/` 与 `reports/`。
- 接口与数据：`glossary/` 为唯一数据字典来源；`api-specs/` 为接口规范占位（技术中立），与 `src/interfaces/` 保持一致。
- 代码引用：源文件头可标注对应文档路径与版本，例如：`links: .trae/documents/api-specs/v1/spec.json#projects`。

## MCP/Agent 主导开发（技术中立）
- 以 MCP/Agent 为核心的任务编排与资源访问；所有工作流、权限与资源清单记录于 `.trae/documents/mcp` 与 `.trae/documents/agents`。
- `src/agents/orchestrations` 保存协作编排定义；`tests/agents` 验证协作流程与门禁。

## 智能体协作机制
- 媒体工程管家：技术架构审核与工程规范实施；维护 `.trae/rules`、`validators`、发布检查清单与 `.trae/documents/process`。
- 媒体产品专家：内容运营体系搭建与用户体验优化；维护 `media/templates`、`media/pipeline`、`media/quality` 与 `.trae/documents/media`。
- 项目规范管家：文档标准化与跨团队协作流程；维护 `.trae/templates`、`.trae/documents/governance` 与 `.trae/documents/overview`。
- 门禁流程：需求登记 → ADR 草拟 → 规则/模板更新 → 目录/文档生成 → Agent 执行与校验 → 审计归档（联合评审记录至 `.trae/documents/audit`）。

## 媒体内容运营与 PBL 规范（技术中立）
- 媒体：素材入库（`media/assets/metadata`）、授权（`rights/`）、母版工程模板与成品质检标准；策略文档归档至 `.trae/documents/media/`。
- PBL：`pbl/catalog/` 索引、`pbl/templates/` 模板、`pbl/projects/{pblId}` 骨架与过程日志；方法与评价体系文档归档至 `.trae/documents/pbl/`。

## 合规与验证
- 目录结构校验说明置于 `.trae/validators/`；执行记录与结论归档至 `.trae/documents/audit/` 与 `.trae/documents/reports/`。
- 环境与工具合规策略（盘位/权限/数据位置）放置于 `config/policies/` 并在 `.trae/documents/governance` 记录制度化说明。

## 推进计划（获批后执行）
1. 在 `.trae/documents/` 初始化子目录：`overview/process/governance/glossary/api-specs/agents/mcp/media/pbl/adr/audit/checklists/reports`，生成最小 `README` 与统一元信息头模板。
2. 在 `.trae/templates/` 增加标准模板：`README`、`文档元信息头部`、`审计检查清单`、`目录结构校验规则说明`。
3. 在 `pbl/` 建立 `catalog/templates` 与 1–2 个 `projects/{pblId}` 示例骨架（不含具体实现），并在 `.trae/documents/pbl/` 创建方法与评分量表样例。
4. 在 `media/` 建立 `templates/quality/metadata/rights/pipeline` 基线与说明，文档归档至 `.trae/documents/media/`。
5. 在 `src/agents/orchestrations` 与 `.trae/documents/agents/mcp` 放置协作流程/权限/资源清单占位；`tests/agents` 添加工作流验证占位用例。
6. 在 `scripts/audit` 与 `.trae/validators` 提供手动合规检查说明与执行步骤（技术中立），首次运行后生成审计草案至 `.trae/documents/audit/` 与 `.trae/documents/reports/`。
7. 全局替换与校验：移除对顶层 `docs/` 的引用，统一改为 `.trae/documents/`；在源文件/模板示例中更新 `links` 指向。

## 交付验收
- `.trae/documents/` 结构与 README 完整生成、元信息规范化。
- 模板与校验说明就绪，门禁流程可执行，审计草案归档。
- PBL 与媒体模板与样例骨架通过结构校验，Agent 协作占位与测试骨架就绪。

—— 请确认本合并版规范与推进计划；获批后我将创建目录与模板、更新引用并完成首轮合规验证。